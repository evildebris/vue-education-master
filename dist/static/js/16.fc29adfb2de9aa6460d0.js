webpackJsonp([16],{"63WH":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"classes"}},[e("header",{staticClass:"home_header2",attrs:{id:"wx-header"}},[e("div",{staticClass:"center"},[e("div",{staticClass:"iconfont icon-return-arrow",on:{click:function(s){t.$router.back()}}}),t._v(" "),e("span",[t._v(" "+t._s(t.$store.state.user.extra.grade)+"年级"+t._s(t.$store.state.user.extra.clazz)+"班 ")])])]),t._v(" "),e("div",{staticClass:"header_info"},[e("div",{staticClass:"user_bg"},[e("img",{staticClass:"userImg",attrs:{src:t.$store.state.info.userImg}})]),t._v(" "),e("div",{staticClass:"detail"},[e("div",[t._v("体力："),e("span",[t._v(t._s(t.$store.state.user.extra.phy))])]),t._v(" "),e("div",[t._v("经验值："),e("span",[t._v(t._s(t.$store.state.user.extra.exp))])]),t._v(" "),e("div",[t._v("等级："),e("span",[t._v(t._s(t.$store.state.user.extra.level))])]),t._v(" "),e("div",[t._v("能力值："),e("span",[t._v(t._s(t.$store.state.user.extra.cap))])])])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"classes_block"},[e("div",{staticClass:"tables",attrs:{refreshNum:t.refreshNum}},t._l(t.tables,function(s,a){return e("div",{staticClass:"row",attrs:{pos:a}},t._l(s,function(s,a){return e("div",{class:{table:!0,end:s.end,male:s.male,female:s.female,male2:s.male2,female2:s.female2,me:s.isMe},on:{click:function(s){s.preventDefault(),t.selectSite(a,s)}}},[e("div")])}))})),t._v(" "),e("div",{staticClass:"table_teacher"},[e("div",{staticClass:"BanZhuRen"}),t._v(" "),e("div",{staticClass:"JZ"}),t._v(" "),e("div",{staticClass:"JiQi",on:{click:function(s){s.preventDefault(),t.showJob()}}})])]),t._v(" "),e("footer",{staticClass:"app-footer"},[e("nav",{staticClass:"classes_footer"},[e("div",[e("div",{staticClass:"btn TX"},[e("router-link",{attrs:{to:"/classes/student",tag:"p"}})],1)]),e("div",[e("div",{staticClass:"btn XGRW"},[e("router-link",{attrs:{to:"/classes/habit",tag:"p"}})],1)]),e("div",[e("div",{staticClass:"btn JL"},[e("router-link",{attrs:{to:"/classes/index",tag:"p"}})],1)]),e("div",[e("div",{staticClass:"btn LYJ"},[e("router-link",{attrs:{to:"/classes/index",tag:"p"}})],1)])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShadow,expression:"isShadow"}],attrs:{id:"alertShadow"}},[e("div",{staticClass:"alert"},[e("div",{staticClass:"alert_header"},[t._v("今日上班任务 "),e("icon",{on:{click:function(s){t.hideShadow()}}})],1),t._v(" "),e("ul",{staticClass:"dialog_bd"},t._l(t.tasks,function(s,a){return e("li",{class:{over:s}},[e("div",{staticClass:"task_detail"},[t._v(t._s(a))]),t._v(" "),e("div",{staticClass:"btn"})])}))])])])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"classes_btns"},[e("div",{staticClass:"leftBtn"},[t._v("督促")]),t._v(" "),e("div",{staticClass:"rightBtn"},[t._v("动态")])])}],r={render:a,staticRenderFns:i};s.a=r},"6kaY":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={mixins:[window.mixin],data:function(){return{isShadow:!1,pageName:"X年X班",refreshNum:0,tables:[Array.from({length:6}),Array.from({length:6}),Array.from({length:6}),Array.from({length:6}),Array.from({length:6}),Array.from({length:6}),Array.from({length:6}),Array.from({length:6})],tasks:{XXX:!1,XXXXXXX:!1,www:!0}}},beforeMount:function(){var t=this;this.post2("api/list_my_clazz_users",{access_token:this.$store.state.user.extra.access_token},function(s){t.$store.commit("setClazz",s.data),t.refreshList()})},mounted:function(){},activated:function(){var t=this;0===this.myIdx?this.alertText("我是"+this.$store.state.user.extra.grade+"年级"+this.$store.state.user.extra.clazz+"班班主任，欢迎您 加入本班，请先选择你喜欢的座位， 一旦选定座位就不能再改了。"):this.post2("api/list_my_clazz_users",{access_token:this.$store.state.user.extra.access_token},function(s){t.$store.commit("setClazz",s.data),t.refreshList()})},methods:{charge:function(){this.$router.push({path:"/money/stamina"})},refreshList:function(){var t=this,s=this.$store.state.clazz;s=s.filter(function(t){return 0!==t.idx}),this.refreshNum++,this.tables.forEach(function(t){t.forEach&&t.forEach(function(s,e){t[e]={end:Math.ceil(e/2)-parseInt(e/2)>0,table:!0,male2:!1,female2:!1,male:!1,female:!1}})}),s.forEach(function(s){var e=void 0,a=void 0;e=parseInt((s.idx-1)/6),a=s.idx-1-6*e,void 0!==s.role&&0!==s.role?t.tables[e][a][1==s.sex?"male2":"female2"]=!0:t.tables[e][a][1==s.sex?"male":"female"]=!0,t.$store.state.user.extra.id==s.id&&(t.tables[e][a].isMe=!0)})},hideShadow:function(){this.isShadow=!1},showJob:function(){this.isShadow=!0},selectSite:function(t,s){var e=this,a=~~s.target.parentElement.getAttribute("pos"),i=6*a+t+1,r=t,n=this.user;0===this.myIdx?this.post1("api/set_user_idx",{idx:i,access_token:this.access_token},"选定座位",function(){e.$store.commit("updateExtra",{idx:i}),void 0!==n.role&&0!==n.role?e.tables[a][r][1==n.sex?"male2":"female2"]=!0:e.tables[a][r][1==n.sex?"male":"female"]=!0,e.$store.state.user.extra.id==n.id&&(e.tables[a][r].isMe=!0),e.refreshNum++}):this.alertText("你已设置座位，不能在设置！")}},computed:{myIdx:function(){return this.$store.state.user.extra.idx}}}},Ravi:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("6kaY"),i=e.n(a);for(var r in a)["default","default"].indexOf(r)<0&&function(t){e.d(s,t,function(){return a[t]})}(r);var n=e("63WH"),o=e("Z0/y"),l=o(i.a,n.a,!1,null,null,null);s.default=l.exports}});
//# sourceMappingURL=16.fc29adfb2de9aa6460d0.js.map