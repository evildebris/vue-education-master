webpackJsonp([19],{"6kaY":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mixins:[window.mixin],data:function(){return{isShadow:!1,pageName:"X年X班",refreshNum:0,tables:[Array.from({length:6}),Array.from({length:6}),Array.from({length:6}),Array.from({length:6}),Array.from({length:6}),Array.from({length:6}),Array.from({length:6}),Array.from({length:6})],tasks:{XXX:!1,XXXXXXX:!1,www:!0}}},beforeMount:function(){var t=this;this.tables.forEach(function(t){t.forEach&&t.forEach(function(e,s){t[s]={end:Math.ceil(s/2)-parseInt(s/2)>0,table:!0,male2:!1,female2:!1,male:!1,female:!1}})}),this.post2("api/list_my_clazz_users",{access_token:this.$store.state.user.extra.access_token},function(e){t.$store.commit("setClazz",e.data),t.refreshList()})},mounted:function(){},activated:function(){var t=this;0===this.myIdx?this.alertText("我是"+this.$store.state.user.extra.grade+"年级"+this.$store.state.user.extra.clazz+"班班主任，欢迎您 加入本班，请先选择你喜欢的座位， 一旦选定座位就不能再改了。"):this.post2("api/list_my_clazz_users",{access_token:this.$store.state.user.extra.access_token},function(e){t.$store.commit("setClazz",e.data),t.refreshList()})},methods:{charge:function(){this.$router.push({path:"/money/stamina"})},refreshList:function(){var t=this,e=this.$store.state.clazz;e=e.filter(function(t){return 0!==t.idx}),this.refreshNum++,this.tables.forEach(function(t){t.forEach&&t.forEach(function(e,s){t[s]={end:Math.ceil(s/2)-parseInt(s/2)>0,table:!0,male2:!1,female2:!1,male:!1,female:!1}})}),e.forEach(function(e){var s=void 0,a=void 0;s=parseInt((e.idx-1)/6),a=e.idx-1-6*s,void 0!==e.role&&0!==e.role?t.tables[s][a][1==e.sex?"male2":"female2"]=!0:t.tables[s][a][1==e.sex?"male":"female"]=!0,t.$store.state.user.extra.id==e.id&&(t.tables[s][a].isMe=!0)})},hideShadow:function(){this.isShadow=!1},showJob:function(){this.isShadow=!0},selectSite:function(t,e){var s=this,a=~~e.target.parentElement.getAttribute("pos"),i=6*a+t+1,r=t,n=this.user;0===this.myIdx?this.post1("api/set_user_idx",{idx:i,access_token:this.access_token},"选定座位",function(){s.$store.commit("updateExtra",{idx:i}),void 0!==n.role&&0!==n.role?s.tables[a][r][1==n.sex?"male2":"female2"]=!0:s.tables[a][r][1==n.sex?"male":"female"]=!0,s.$store.state.user.extra.id==n.id&&(s.tables[a][r].isMe=!0),s.refreshNum++}):this.alertText("你已设置座位，不能在设置！")}},computed:{myIdx:function(){return this.$store.state.user.extra.idx}}}},GfRL:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"classes"}},[s("header",{staticClass:"home_header2",attrs:{id:"wx-header"}},[s("div",{staticClass:"center"},[s("div",{staticClass:"iconfont icon-return-arrow",on:{click:function(e){t.$router.back()}}}),t._v(" "),s("span",[t._v(" "+t._s(t.$store.state.user.extra.grade)+"年级"+t._s(t.$store.state.user.extra.clazz)+"班 ")])])]),t._v(" "),s("div",{staticClass:"header_info"},[s("div",{staticClass:"user_bg"},[s("img",{staticClass:"userImg",attrs:{src:t.$store.state.info.userImg}})]),t._v(" "),s("div",{staticClass:"detail"},[s("div",[t._v("体力："),s("span",[t._v(t._s(t.$store.state.user.extra.phy))])]),t._v(" "),s("div",[t._v("经验值："),s("span",[t._v(t._s(t.$store.state.user.extra.exp))])]),t._v(" "),s("div",[t._v("等级："),s("span",[t._v(t._s(t.$store.state.user.extra.level))])]),t._v(" "),s("div",[t._v("能力值："),s("span",[t._v(t._s(t.$store.state.user.extra.cap))])])])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"classes_block"},[s("div",{staticClass:"tables",attrs:{refreshNum:t.refreshNum}},t._l(t.tables,function(e,a){return s("div",{staticClass:"row",attrs:{pos:a}},t._l(e,function(e,a){return s("div",{class:{table:!0,end:e.end,male:e.male,female:e.female,male2:e.male2,female2:e.female2,me:e.isMe},on:{click:function(e){e.preventDefault(),t.selectSite(a,e)}}},[s("div")])}))})),t._v(" "),s("div",{staticClass:"table_teacher"},[s("div",{staticClass:"BanZhuRen"}),t._v(" "),s("div",{staticClass:"JZ"}),t._v(" "),s("div",{staticClass:"JiQi",on:{click:function(e){e.preventDefault(),t.showJob()}}})])]),t._v(" "),s("footer",{staticClass:"app-footer"},[s("nav",{staticClass:"classes_footer"},[s("div",[s("div",{staticClass:"btn TX"},[s("router-link",{attrs:{to:"/classes/student",tag:"p"}})],1)]),s("div",[s("div",{staticClass:"btn XGRW"},[s("router-link",{attrs:{to:"/classes/habit",tag:"p"}})],1)]),s("div",[s("div",{staticClass:"btn JL"},[s("router-link",{attrs:{to:"/home/award/index",tag:"p"}})],1)]),s("div",[s("div",{staticClass:"btn LYJ"},[s("router-link",{attrs:{to:"/classes/explore/moments",tag:"p"}})],1)])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShadow,expression:"isShadow"}],attrs:{id:"alertShadow"}},[s("div",{staticClass:"alert"},[s("div",{staticClass:"alert_header"},[t._v("今日上班任务 "),s("icon",{on:{click:function(e){t.hideShadow()}}})],1),t._v(" "),s("ul",{staticClass:"dialog_bd"},t._l(t.tasks,function(e,a){return s("li",{class:{over:e}},[s("div",{staticClass:"task_detail"},[t._v(t._s(a))]),t._v(" "),s("div",{staticClass:"btn"})])}))])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"classes_btns"},[s("div",{staticClass:"leftBtn"},[t._v("督促")]),t._v(" "),s("div",{staticClass:"rightBtn"},[t._v("动态")])])}],r={render:a,staticRenderFns:i};e.a=r},Ravi:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("6kaY"),i=s.n(a);for(var r in a)["default","default"].indexOf(r)<0&&function(t){s.d(e,t,function(){return a[t]})}(r);var n=s("GfRL"),o=s("Z0/y"),l=o(i.a,n.a,!1,null,null,null);e.default=l.exports}});
//# sourceMappingURL=19.5ab3fc53ec6a7462484f.js.map